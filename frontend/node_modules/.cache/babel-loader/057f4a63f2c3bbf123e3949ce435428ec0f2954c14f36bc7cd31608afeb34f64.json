{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\A\\\\Desktop\\\\Univers\\\\ResearchAlgo\\\\web\\\\Research_Algorithms_Task4\\\\frontend\\\\src\\\\components\\\\InputForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InputForm = () => {\n  _s();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [formData, setFormData] = useState({\n    kids: ['Kid_1', 'Kid_2', 'Kid_3'],\n    presents: ['Present_1', 'Present_2', 'Present_3', 'Present_4'],\n    valuations: {\n      'Kid_1': {\n        'Present_1': 5,\n        // Kid_1 can receive Present_1 with value 5\n        'Present_2': 3,\n        // Kid_1 can receive Present_2 with value 3\n        'Present_3': 0,\n        // Kid_1 cannot receive Present_3\n        'Present_4': 0 // Kid_1 cannot receive Present_4\n      },\n      'Kid_2': {\n        'Present_1': 5,\n        // Kid_2 can receive Present_1 with same value 5\n        'Present_2': 0,\n        // Kid_2 cannot receive Present_2\n        'Present_3': 7,\n        // Kid_2 can receive Present_3 with value 7\n        'Present_4': 4 // Kid_2 can receive Present_4 with value 4\n      },\n      'Kid_3': {\n        'Present_1': 0,\n        // Kid_3 cannot receive Present_1\n        'Present_2': 3,\n        // Kid_3 can receive Present_2 with same value 3\n        'Present_3': 7,\n        // Kid_3 can receive Present_3 with same value 7\n        'Present_4': 4 // Kid_3 can receive Present_4 with same value 4\n      }\n    }\n  });\n\n  // Handle kid name change\n  const handleKidNameChange = (index, value) => {\n    const newKids = [...formData.kids];\n    const oldName = newKids[index];\n    newKids[index] = value;\n\n    // Update the valuations object with the new kid name\n    const newValuations = {\n      ...formData.valuations\n    };\n    newValuations[value] = newValuations[oldName] || {};\n    if (oldName !== value && newValuations[oldName]) {\n      delete newValuations[oldName];\n    }\n    setFormData({\n      ...formData,\n      kids: newKids,\n      valuations: newValuations\n    });\n  };\n\n  // Handle present name change\n  const handlePresentNameChange = (index, value) => {\n    const newPresents = [...formData.presents];\n    const oldName = newPresents[index];\n    newPresents[index] = value;\n\n    // Update the valuations for each kid with the new present name\n    const newValuations = {\n      ...formData.valuations\n    };\n    for (const kid in newValuations) {\n      newValuations[kid][value] = newValuations[kid][oldName] || 0;\n      if (oldName !== value && newValuations[kid][oldName] !== undefined) {\n        delete newValuations[kid][oldName];\n      }\n    }\n    setFormData({\n      ...formData,\n      presents: newPresents,\n      valuations: newValuations\n    });\n  };\n\n  // Handle valuation change\n  const handleValuationChange = (kid, present, value) => {\n    const numValue = parseInt(value) || 0;\n    setFormData({\n      ...formData,\n      valuations: {\n        ...formData.valuations,\n        [kid]: {\n          ...formData.valuations[kid],\n          [present]: numValue\n        }\n      }\n    });\n  };\n\n  // Add a new kid\n  const addKid = () => {\n    const newKidName = `Kid_${formData.kids.length + 1}`;\n    const newValuations = {\n      ...formData.valuations\n    };\n\n    // Initialize valuations for the new kid\n    newValuations[newKidName] = {};\n    formData.presents.forEach(present => {\n      newValuations[newKidName][present] = 0;\n    });\n    setFormData({\n      ...formData,\n      kids: [...formData.kids, newKidName],\n      valuations: newValuations\n    });\n  };\n\n  // Remove a kid\n  const removeKid = index => {\n    if (formData.kids.length <= 1) {\n      setError('You need at least one kid');\n      return;\n    }\n    const newKids = [...formData.kids];\n    const kidToRemove = newKids[index];\n    newKids.splice(index, 1);\n\n    // Remove the kid's valuations\n    const newValuations = {\n      ...formData.valuations\n    };\n    delete newValuations[kidToRemove];\n    setFormData({\n      ...formData,\n      kids: newKids,\n      valuations: newValuations\n    });\n    setError('');\n  };\n\n  // Add a new present\n  const addPresent = () => {\n    const newPresentName = `Present_${formData.presents.length + 1}`;\n    const newValuations = {\n      ...formData.valuations\n    };\n\n    // Initialize valuations for the new present for all kids\n    for (const kid of formData.kids) {\n      if (!newValuations[kid]) {\n        newValuations[kid] = {};\n      }\n      newValuations[kid][newPresentName] = 0;\n    }\n    setFormData({\n      ...formData,\n      presents: [...formData.presents, newPresentName],\n      valuations: newValuations\n    });\n  };\n\n  // Remove a present\n  const removePresent = index => {\n    if (formData.presents.length <= 1) {\n      setError('You need at least one present');\n      return;\n    }\n    const newPresents = [...formData.presents];\n    const presentToRemove = newPresents[index];\n    newPresents.splice(index, 1);\n\n    // Remove the present's valuations for all kids\n    const newValuations = {\n      ...formData.valuations\n    };\n    for (const kid in newValuations) {\n      delete newValuations[kid][presentToRemove];\n    }\n    setFormData({\n      ...formData,\n      presents: newPresents,\n      valuations: newValuations\n    });\n    setError('');\n  };\n\n  // State for random options modal\n  const [showRandomOptions, setShowRandomOptions] = useState(false);\n  const [randomizeOption, setRandomizeOption] = useState('all');\n  const [numKids, setNumKids] = useState(3);\n  const [numPresents, setNumPresents] = useState(5);\n\n  // Open random options modal\n  const openRandomOptions = () => {\n    setShowRandomOptions(true);\n  };\n\n  // Close random options modal\n  const closeRandomOptions = () => {\n    setShowRandomOptions(false);\n  };\n\n  // Generate random input with selected options\n  const generateRandomInput = async (option = randomizeOption) => {\n    try {\n      setLoading(true);\n      setError('');\n\n      // Create URL with query parameters\n      let url = 'http://localhost:5006/api/generate-random?';\n      url += `randomize_type=${option}`;\n      url += `&num_kids=${numKids}`;\n      url += `&num_presents=${numPresents}`;\n      console.log(`Generating with params: type=${option}, kids=${numKids}, presents=${numPresents}`);\n\n      // If we're doing partial randomization, pass the current data\n      if (option !== 'all') {\n        const currentData = JSON.stringify(formData);\n        url += `&current_data=${encodeURIComponent(currentData)}`;\n        console.log('Including current data for partial randomization');\n      }\n\n      // Get random data from the backend\n      console.log(`Sending request to: ${url}`);\n      const response = await axios.get(url);\n\n      // Log what we received\n      console.log('Received data:', response.data);\n      console.log(`New data has ${response.data.kids.length} kids and ${response.data.presents.length} presents`);\n\n      // Update form data with the response\n      setFormData(response.data);\n\n      // Close modal after generating\n      setShowRandomOptions(false);\n    } catch (error) {\n      console.error('Error generating random input:', error);\n      // Show more detailed error message\n      let errorMessage = 'Failed to generate random input. Please try again.';\n      if (error.response) {\n        // The request was made and the server responded with an error status code\n        errorMessage = `Server error (${error.response.status}): ${JSON.stringify(error.response.data)}`;\n      } else if (error.request) {\n        // The request was made but no response was received\n        errorMessage = 'No response received from server. Is the backend running?';\n      } else {\n        // Something else happened\n        errorMessage = `Error: ${error.message}`;\n      }\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Check if the input follows the restricted assignment case\n  const validateRestrictedAssignment = () => {\n    // For each present, check if it has the same value for all kids who can receive it\n    const presentValues = {};\n    const errors = [];\n    for (const present of formData.presents) {\n      presentValues[present] = {};\n      let valueForThisPresent = null;\n      let hasValue = false;\n      for (const kid of formData.kids) {\n        var _formData$valuations$;\n        const value = ((_formData$valuations$ = formData.valuations[kid]) === null || _formData$valuations$ === void 0 ? void 0 : _formData$valuations$[present]) || 0;\n        if (value > 0) {\n          if (valueForThisPresent === null) {\n            // First kid who can receive this present\n            valueForThisPresent = value;\n            hasValue = true;\n          } else if (value !== valueForThisPresent) {\n            // Value doesn't match the expected value for this present\n            errors.push(`Present ${present} has different values for different kids (${valueForThisPresent} vs ${value}). In the restricted assignment case, each present must have the same value for all kids who can receive it.`);\n            break;\n          }\n        }\n      }\n    }\n    return errors;\n  };\n\n  // Submit the form\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Validate the form\n    if (formData.kids.length === 0) {\n      setError('You need at least one kid');\n      return;\n    }\n    if (formData.presents.length === 0) {\n      setError('You need at least one present');\n      return;\n    }\n\n    // Validate restricted assignment case\n    const restrictedAssignmentErrors = validateRestrictedAssignment();\n    if (restrictedAssignmentErrors.length > 0) {\n      setError(/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Input does not follow the restricted assignment case:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: restrictedAssignmentErrors.map((err, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: err\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"In the restricted assignment case, each present must have the same value for all kids who can receive it (and 0 for kids who cannot).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this));\n      return;\n    }\n    try {\n      setLoading(true);\n      setError('');\n\n      // Send the data to the backend\n      const response = await axios.post('http://localhost:5006/api/run-algorithm', formData);\n      console.log('Algorithm response received:', response.data);\n\n      // Navigate to the results page with the data\n      console.log('Attempting to navigate to results page...');\n      navigate('/results', {\n        state: {\n          results: response.data\n        }\n      });\n      console.log('Navigation function called');\n    } catch (error) {\n      console.error('Error running algorithm:', error);\n      setError('Failed to run algorithm. Please check your input and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"section-title\",\n      children: \"Input Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Kids\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), formData.kids.map((kid, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            value: kid,\n            onChange: e => handleKidNameChange(index, e.target.value),\n            placeholder: \"Kid name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-outline-danger\",\n            onClick: () => removeKid(index),\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this)]\n        }, `kid-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-outline-primary\",\n          onClick: addKid,\n          children: \"Add Kid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Presents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), formData.presents.map((present, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            value: present,\n            onChange: e => handlePresentNameChange(index, e.target.value),\n            placeholder: \"Present name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-outline-danger\",\n            onClick: () => removePresent(index),\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this)]\n        }, `present-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-outline-primary\",\n          onClick: addPresent,\n          children: \"Add Present\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Valuations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted\",\n          children: \"Enter how much each kid values each present (0 means they can't receive it)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-bordered valuation-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Kid / Present\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 19\n                }, this), formData.presents.map((present, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: present\n                }, `header-${present}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: formData.kids.map((kid, kidIndex) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: kid\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 21\n                }, this), formData.presents.map((present, presentIndex) => {\n                  var _formData$valuations$2;\n                  return /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      className: \"form-control form-control-sm\",\n                      min: \"0\",\n                      value: ((_formData$valuations$2 = formData.valuations[kid]) === null || _formData$valuations$2 === void 0 ? void 0 : _formData$valuations$2[present]) || 0,\n                      onChange: e => handleValuationChange(kid, present, e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 25\n                    }, this)\n                  }, `cell-${kid}-${present}`, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 23\n                  }, this);\n                })]\n              }, `row-${kid}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          onClick: openRandomOptions,\n          disabled: loading,\n          children: loading ? 'Loading...' : 'Generate Random Input'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          disabled: loading,\n          children: loading ? 'Running...' : 'Run Algorithm'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), showRandomOptions && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal show\",\n        style: {\n          display: 'block',\n          backgroundColor: 'rgba(0,0,0,0.5)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"modal-title\",\n                children: \"Random Generation Options\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-close\",\n                onClick: closeRandomOptions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Choose what you want to randomize:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"numKids\",\n                  children: \"Number of Kids:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"form-control\",\n                  id: \"numKids\",\n                  min: \"1\",\n                  max: \"10\",\n                  value: numKids,\n                  onChange: e => setNumKids(Math.min(10, Math.max(1, parseInt(e.target.value) || 1)))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: \"Maximum: 10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"numPresents\",\n                  children: \"Number of Presents:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"form-control\",\n                  id: \"numPresents\",\n                  min: \"1\",\n                  max: \"20\",\n                  value: numPresents,\n                  onChange: e => setNumPresents(Math.min(20, Math.max(1, parseInt(e.target.value) || 1)))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: \"Maximum: 20\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-3\",\n                children: \"What to randomize:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-check-input\",\n                  type: \"radio\",\n                  name: \"randomizeOption\",\n                  id: \"randomize-all\",\n                  value: \"all\",\n                  checked: randomizeOption === 'all',\n                  onChange: () => setRandomizeOption('all')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  htmlFor: \"randomize-all\",\n                  children: \"Everything (kids, presents, and valuations)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-check-input\",\n                  type: \"radio\",\n                  name: \"randomizeOption\",\n                  id: \"randomize-valuations\",\n                  value: \"valuations\",\n                  checked: randomizeOption === 'valuations',\n                  onChange: () => setRandomizeOption('valuations')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  htmlFor: \"randomize-valuations\",\n                  children: \"Only Valuations (keep kids and presents the same)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: closeRandomOptions,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-primary\",\n                onClick: () => generateRandomInput(),\n                disabled: loading,\n                children: loading ? 'Generating...' : 'Generate'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 5\n  }, this);\n};\n_s(InputForm, \"h+x3mydaUJLxSv+G0B9lcgWHGWk=\", false, function () {\n  return [useNavigate];\n});\n_c = InputForm;\nexport default InputForm;\nvar _c;\n$RefreshReg$(_c, \"InputForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","jsxDEV","_jsxDEV","InputForm","_s","navigate","loading","setLoading","error","setError","formData","setFormData","kids","presents","valuations","handleKidNameChange","index","value","newKids","oldName","newValuations","handlePresentNameChange","newPresents","kid","undefined","handleValuationChange","present","numValue","parseInt","addKid","newKidName","length","forEach","removeKid","kidToRemove","splice","addPresent","newPresentName","removePresent","presentToRemove","showRandomOptions","setShowRandomOptions","randomizeOption","setRandomizeOption","numKids","setNumKids","numPresents","setNumPresents","openRandomOptions","closeRandomOptions","generateRandomInput","option","url","console","log","currentData","JSON","stringify","encodeURIComponent","response","get","data","errorMessage","status","request","message","validateRestrictedAssignment","presentValues","errors","valueForThisPresent","hasValue","_formData$valuations$","push","handleSubmit","e","preventDefault","restrictedAssignmentErrors","children","fileName","_jsxFileName","lineNumber","columnNumber","map","err","post","state","results","className","onSubmit","type","onChange","target","placeholder","required","onClick","kidIndex","presentIndex","_formData$valuations$2","min","disabled","style","display","backgroundColor","htmlFor","id","max","Math","name","checked","_c","$RefreshReg$"],"sources":["C:/Users/A/Desktop/Univers/ResearchAlgo/web/Research_Algorithms_Task4/frontend/src/components/InputForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst InputForm = () => {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [formData, setFormData] = useState({\n    kids: ['Kid_1', 'Kid_2', 'Kid_3'],\n    presents: ['Present_1', 'Present_2', 'Present_3', 'Present_4'],\n    valuations: {\n      'Kid_1': {\n        'Present_1': 5,  // Kid_1 can receive Present_1 with value 5\n        'Present_2': 3,  // Kid_1 can receive Present_2 with value 3\n        'Present_3': 0,  // Kid_1 cannot receive Present_3\n        'Present_4': 0   // Kid_1 cannot receive Present_4\n      },\n      'Kid_2': {\n        'Present_1': 5,  // Kid_2 can receive Present_1 with same value 5\n        'Present_2': 0,  // Kid_2 cannot receive Present_2\n        'Present_3': 7,  // Kid_2 can receive Present_3 with value 7\n        'Present_4': 4   // Kid_2 can receive Present_4 with value 4\n      },\n      'Kid_3': {\n        'Present_1': 0,  // Kid_3 cannot receive Present_1\n        'Present_2': 3,  // Kid_3 can receive Present_2 with same value 3\n        'Present_3': 7,  // Kid_3 can receive Present_3 with same value 7\n        'Present_4': 4   // Kid_3 can receive Present_4 with same value 4\n      }\n    }\n  });\n\n  // Handle kid name change\n  const handleKidNameChange = (index, value) => {\n    const newKids = [...formData.kids];\n    const oldName = newKids[index];\n    newKids[index] = value;\n\n    // Update the valuations object with the new kid name\n    const newValuations = { ...formData.valuations };\n    newValuations[value] = newValuations[oldName] || {};\n    if (oldName !== value && newValuations[oldName]) {\n      delete newValuations[oldName];\n    }\n\n    setFormData({\n      ...formData,\n      kids: newKids,\n      valuations: newValuations\n    });\n  };\n\n  // Handle present name change\n  const handlePresentNameChange = (index, value) => {\n    const newPresents = [...formData.presents];\n    const oldName = newPresents[index];\n    newPresents[index] = value;\n\n    // Update the valuations for each kid with the new present name\n    const newValuations = { ...formData.valuations };\n    for (const kid in newValuations) {\n      newValuations[kid][value] = newValuations[kid][oldName] || 0;\n      if (oldName !== value && newValuations[kid][oldName] !== undefined) {\n        delete newValuations[kid][oldName];\n      }\n    }\n\n    setFormData({\n      ...formData,\n      presents: newPresents,\n      valuations: newValuations\n    });\n  };\n\n  // Handle valuation change\n  const handleValuationChange = (kid, present, value) => {\n    const numValue = parseInt(value) || 0;\n    setFormData({\n      ...formData,\n      valuations: {\n        ...formData.valuations,\n        [kid]: {\n          ...formData.valuations[kid],\n          [present]: numValue\n        }\n      }\n    });\n  };\n\n  // Add a new kid\n  const addKid = () => {\n    const newKidName = `Kid_${formData.kids.length + 1}`;\n    const newValuations = { ...formData.valuations };\n    \n    // Initialize valuations for the new kid\n    newValuations[newKidName] = {};\n    formData.presents.forEach(present => {\n      newValuations[newKidName][present] = 0;\n    });\n\n    setFormData({\n      ...formData,\n      kids: [...formData.kids, newKidName],\n      valuations: newValuations\n    });\n  };\n\n  // Remove a kid\n  const removeKid = (index) => {\n    if (formData.kids.length <= 1) {\n      setError('You need at least one kid');\n      return;\n    }\n\n    const newKids = [...formData.kids];\n    const kidToRemove = newKids[index];\n    newKids.splice(index, 1);\n\n    // Remove the kid's valuations\n    const newValuations = { ...formData.valuations };\n    delete newValuations[kidToRemove];\n\n    setFormData({\n      ...formData,\n      kids: newKids,\n      valuations: newValuations\n    });\n    setError('');\n  };\n\n  // Add a new present\n  const addPresent = () => {\n    const newPresentName = `Present_${formData.presents.length + 1}`;\n    const newValuations = { ...formData.valuations };\n    \n    // Initialize valuations for the new present for all kids\n    for (const kid of formData.kids) {\n      if (!newValuations[kid]) {\n        newValuations[kid] = {};\n      }\n      newValuations[kid][newPresentName] = 0;\n    }\n\n    setFormData({\n      ...formData,\n      presents: [...formData.presents, newPresentName],\n      valuations: newValuations\n    });\n  };\n\n  // Remove a present\n  const removePresent = (index) => {\n    if (formData.presents.length <= 1) {\n      setError('You need at least one present');\n      return;\n    }\n\n    const newPresents = [...formData.presents];\n    const presentToRemove = newPresents[index];\n    newPresents.splice(index, 1);\n\n    // Remove the present's valuations for all kids\n    const newValuations = { ...formData.valuations };\n    for (const kid in newValuations) {\n      delete newValuations[kid][presentToRemove];\n    }\n\n    setFormData({\n      ...formData,\n      presents: newPresents,\n      valuations: newValuations\n    });\n    setError('');\n  };\n\n  // State for random options modal\n  const [showRandomOptions, setShowRandomOptions] = useState(false);\n  const [randomizeOption, setRandomizeOption] = useState('all');\n  const [numKids, setNumKids] = useState(3);\n  const [numPresents, setNumPresents] = useState(5);\n\n  // Open random options modal\n  const openRandomOptions = () => {\n    setShowRandomOptions(true);\n  };\n\n  // Close random options modal\n  const closeRandomOptions = () => {\n    setShowRandomOptions(false);\n  };\n\n  // Generate random input with selected options\n  const generateRandomInput = async (option = randomizeOption) => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      // Create URL with query parameters\n      let url = 'http://localhost:5006/api/generate-random?';\n      url += `randomize_type=${option}`;\n      url += `&num_kids=${numKids}`;\n      url += `&num_presents=${numPresents}`;\n      \n      console.log(`Generating with params: type=${option}, kids=${numKids}, presents=${numPresents}`);\n      \n      // If we're doing partial randomization, pass the current data\n      if (option !== 'all') {\n        const currentData = JSON.stringify(formData);\n        url += `&current_data=${encodeURIComponent(currentData)}`;\n        console.log('Including current data for partial randomization');\n      }\n      \n      // Get random data from the backend\n      console.log(`Sending request to: ${url}`);\n      const response = await axios.get(url);\n      \n      // Log what we received\n      console.log('Received data:', response.data);\n      console.log(`New data has ${response.data.kids.length} kids and ${response.data.presents.length} presents`);\n      \n      // Update form data with the response\n      setFormData(response.data);\n      \n      // Close modal after generating\n      setShowRandomOptions(false);\n    } catch (error) {\n      console.error('Error generating random input:', error);\n      // Show more detailed error message\n      let errorMessage = 'Failed to generate random input. Please try again.';\n      if (error.response) {\n        // The request was made and the server responded with an error status code\n        errorMessage = `Server error (${error.response.status}): ${JSON.stringify(error.response.data)}`;\n      } else if (error.request) {\n        // The request was made but no response was received\n        errorMessage = 'No response received from server. Is the backend running?';\n      } else {\n        // Something else happened\n        errorMessage = `Error: ${error.message}`;\n      }\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Check if the input follows the restricted assignment case\n  const validateRestrictedAssignment = () => {\n    // For each present, check if it has the same value for all kids who can receive it\n    const presentValues = {};\n    const errors = [];\n    \n    for (const present of formData.presents) {\n      presentValues[present] = {};\n      let valueForThisPresent = null;\n      let hasValue = false;\n      \n      for (const kid of formData.kids) {\n        const value = formData.valuations[kid]?.[present] || 0;\n        \n        if (value > 0) {\n          if (valueForThisPresent === null) {\n            // First kid who can receive this present\n            valueForThisPresent = value;\n            hasValue = true;\n          } else if (value !== valueForThisPresent) {\n            // Value doesn't match the expected value for this present\n            errors.push(`Present ${present} has different values for different kids (${valueForThisPresent} vs ${value}). In the restricted assignment case, each present must have the same value for all kids who can receive it.`);\n            break;\n          }\n        }\n      }\n    }\n    \n    return errors;\n  };\n\n  // Submit the form\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Validate the form\n    if (formData.kids.length === 0) {\n      setError('You need at least one kid');\n      return;\n    }\n    if (formData.presents.length === 0) {\n      setError('You need at least one present');\n      return;\n    }\n    \n    // Validate restricted assignment case\n    const restrictedAssignmentErrors = validateRestrictedAssignment();\n    if (restrictedAssignmentErrors.length > 0) {\n      setError(\n        <div>\n          <p><strong>Input does not follow the restricted assignment case:</strong></p>\n          <ul>\n            {restrictedAssignmentErrors.map((err, index) => (\n              <li key={index}>{err}</li>\n            ))}\n          </ul>\n          <p>In the restricted assignment case, each present must have the same value for all kids who can receive it (and 0 for kids who cannot).</p>\n        </div>\n      );\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError('');\n      \n      // Send the data to the backend\n      const response = await axios.post('http://localhost:5006/api/run-algorithm', formData);\n      \n      console.log('Algorithm response received:', response.data);\n      \n      // Navigate to the results page with the data\n      console.log('Attempting to navigate to results page...');\n      navigate('/results', { state: { results: response.data } });\n      console.log('Navigation function called');\n    } catch (error) {\n      console.error('Error running algorithm:', error);\n      setError('Failed to run algorithm. Please check your input and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"input-form-container\">\n      <h2 className=\"section-title\">Input Form</h2>\n      \n      {error && <div className=\"alert alert-danger\">{error}</div>}\n      \n      <form onSubmit={handleSubmit}>\n        <div className=\"form-section\">\n          <h3>Kids</h3>\n          {formData.kids.map((kid, index) => (\n            <div key={`kid-${index}`} className=\"input-group mb-3\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={kid}\n                onChange={(e) => handleKidNameChange(index, e.target.value)}\n                placeholder=\"Kid name\"\n                required\n              />\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-danger\"\n                onClick={() => removeKid(index)}\n              >\n                Remove\n              </button>\n            </div>\n          ))}\n          <button\n            type=\"button\"\n            className=\"btn btn-outline-primary\"\n            onClick={addKid}\n          >\n            Add Kid\n          </button>\n        </div>\n\n        <div className=\"form-section\">\n          <h3>Presents</h3>\n          {formData.presents.map((present, index) => (\n            <div key={`present-${index}`} className=\"input-group mb-3\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={present}\n                onChange={(e) => handlePresentNameChange(index, e.target.value)}\n                placeholder=\"Present name\"\n                required\n              />\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-danger\"\n                onClick={() => removePresent(index)}\n              >\n                Remove\n              </button>\n            </div>\n          ))}\n          <button\n            type=\"button\"\n            className=\"btn btn-outline-primary\"\n            onClick={addPresent}\n          >\n            Add Present\n          </button>\n        </div>\n\n        <div className=\"form-section\">\n          <h3>Valuations</h3>\n          <p className=\"text-muted\">Enter how much each kid values each present (0 means they can't receive it)</p>\n          \n          <div className=\"table-responsive\">\n            <table className=\"table table-bordered valuation-table\">\n              <thead>\n                <tr>\n                  <th>Kid / Present</th>\n                  {formData.presents.map((present, index) => (\n                    <th key={`header-${present}`}>{present}</th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {formData.kids.map((kid, kidIndex) => (\n                  <tr key={`row-${kid}`}>\n                    <td>{kid}</td>\n                    {formData.presents.map((present, presentIndex) => (\n                      <td key={`cell-${kid}-${present}`}>\n                        <input\n                          type=\"number\"\n                          className=\"form-control form-control-sm\"\n                          min=\"0\"\n                          value={formData.valuations[kid]?.[present] || 0}\n                          onChange={(e) => handleValuationChange(kid, present, e.target.value)}\n                        />\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <div className=\"d-flex justify-content-between mt-4\">\n          <button\n            type=\"button\"\n            className=\"btn btn-secondary\"\n            onClick={openRandomOptions}\n            disabled={loading}\n          >\n            {loading ? 'Loading...' : 'Generate Random Input'}\n          </button>\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n            disabled={loading}\n          >\n            {loading ? 'Running...' : 'Run Algorithm'}\n          </button>\n        </div>\n        \n        {/* Random Options Modal */}\n        {showRandomOptions && (\n          <div className=\"modal show\" style={{display: 'block', backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  <h5 className=\"modal-title\">Random Generation Options</h5>\n                  <button type=\"button\" className=\"btn-close\" onClick={closeRandomOptions}></button>\n                </div>\n                <div className=\"modal-body\">\n                  <p>Choose what you want to randomize:</p>\n                  \n                  <div className=\"form-group mb-3\">\n                    <label htmlFor=\"numKids\">Number of Kids:</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      id=\"numKids\"\n                      min=\"1\"\n                      max=\"10\"\n                      value={numKids}\n                      onChange={(e) => setNumKids(Math.min(10, Math.max(1, parseInt(e.target.value) || 1)))}\n                    />\n                    <small className=\"text-muted\">Maximum: 10</small>\n                  </div>\n                  \n                  <div className=\"form-group mb-3\">\n                    <label htmlFor=\"numPresents\">Number of Presents:</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      id=\"numPresents\"\n                      min=\"1\"\n                      max=\"20\"\n                      value={numPresents}\n                      onChange={(e) => setNumPresents(Math.min(20, Math.max(1, parseInt(e.target.value) || 1)))}\n                    />\n                    <small className=\"text-muted\">Maximum: 20</small>\n                  </div>\n                  \n                  <p className=\"mt-3\">What to randomize:</p>\n                  \n                  <div className=\"form-check mb-2\">\n                    <input\n                      className=\"form-check-input\"\n                      type=\"radio\"\n                      name=\"randomizeOption\"\n                      id=\"randomize-all\"\n                      value=\"all\"\n                      checked={randomizeOption === 'all'}\n                      onChange={() => setRandomizeOption('all')}\n                    />\n                    <label className=\"form-check-label\" htmlFor=\"randomize-all\">\n                      Everything (kids, presents, and valuations)\n                    </label>\n                  </div>\n                  \n                  {/*  \"Only Kids\" -\"Only Presents\"    */}\n                  \n                  <div className=\"form-check mb-2\">\n                    <input\n                      className=\"form-check-input\"\n                      type=\"radio\"\n                      name=\"randomizeOption\"\n                      id=\"randomize-valuations\"\n                      value=\"valuations\"\n                      checked={randomizeOption === 'valuations'}\n                      onChange={() => setRandomizeOption('valuations')}\n                    />\n                    <label className=\"form-check-label\" htmlFor=\"randomize-valuations\">\n                      Only Valuations (keep kids and presents the same)\n                    </label>\n                  </div>\n                </div>\n                <div className=\"modal-footer\">\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={closeRandomOptions}>Cancel</button>\n                  <button \n                    type=\"button\" \n                    className=\"btn btn-primary\" \n                    onClick={() => generateRandomInput()}\n                    disabled={loading}\n                  >\n                    {loading ? 'Generating...' : 'Generate'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default InputForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}