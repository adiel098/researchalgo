{"ast":null,"code":"import _objectSpread from\"C:/Users/A/Desktop/Univers/ResearchAlgo/web/Research_Algorithms_Task4/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InputForm=()=>{const navigate=useNavigate();const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[formData,setFormData]=useState({kids:['Kid_1','Kid_2','Kid_3'],presents:['Present_1','Present_2','Present_3','Present_4'],valuations:{'Kid_1':{'Present_1':5,// Kid_1 can receive Present_1 with value 5\n'Present_2':3,// Kid_1 can receive Present_2 with value 3\n'Present_3':0,// Kid_1 cannot receive Present_3\n'Present_4':0// Kid_1 cannot receive Present_4\n},'Kid_2':{'Present_1':5,// Kid_2 can receive Present_1 with same value 5\n'Present_2':0,// Kid_2 cannot receive Present_2\n'Present_3':7,// Kid_2 can receive Present_3 with value 7\n'Present_4':4// Kid_2 can receive Present_4 with value 4\n},'Kid_3':{'Present_1':0,// Kid_3 cannot receive Present_1\n'Present_2':3,// Kid_3 can receive Present_2 with same value 3\n'Present_3':7,// Kid_3 can receive Present_3 with same value 7\n'Present_4':4// Kid_3 can receive Present_4 with same value 4\n}}});// Handle kid name change\nconst handleKidNameChange=(index,value)=>{const newKids=[...formData.kids];const oldName=newKids[index];newKids[index]=value;// Update the valuations object with the new kid name\nconst newValuations=_objectSpread({},formData.valuations);newValuations[value]=newValuations[oldName]||{};if(oldName!==value&&newValuations[oldName]){delete newValuations[oldName];}setFormData(_objectSpread(_objectSpread({},formData),{},{kids:newKids,valuations:newValuations}));};// Handle present name change\nconst handlePresentNameChange=(index,value)=>{const newPresents=[...formData.presents];const oldName=newPresents[index];newPresents[index]=value;// Update the valuations for each kid with the new present name\nconst newValuations=_objectSpread({},formData.valuations);for(const kid in newValuations){newValuations[kid][value]=newValuations[kid][oldName]||0;if(oldName!==value&&newValuations[kid][oldName]!==undefined){delete newValuations[kid][oldName];}}setFormData(_objectSpread(_objectSpread({},formData),{},{presents:newPresents,valuations:newValuations}));};// Handle valuation change\nconst handleValuationChange=(kid,present,value)=>{const numValue=parseInt(value)||0;setFormData(_objectSpread(_objectSpread({},formData),{},{valuations:_objectSpread(_objectSpread({},formData.valuations),{},{[kid]:_objectSpread(_objectSpread({},formData.valuations[kid]),{},{[present]:numValue})})}));};// Add a new kid\nconst addKid=()=>{const newKidName=\"Kid_\".concat(formData.kids.length+1);const newValuations=_objectSpread({},formData.valuations);// Initialize valuations for the new kid\nnewValuations[newKidName]={};formData.presents.forEach(present=>{newValuations[newKidName][present]=0;});setFormData(_objectSpread(_objectSpread({},formData),{},{kids:[...formData.kids,newKidName],valuations:newValuations}));};// Remove a kid\nconst removeKid=index=>{if(formData.kids.length<=1){setError('You need at least one kid');return;}const newKids=[...formData.kids];const kidToRemove=newKids[index];newKids.splice(index,1);// Remove the kid's valuations\nconst newValuations=_objectSpread({},formData.valuations);delete newValuations[kidToRemove];setFormData(_objectSpread(_objectSpread({},formData),{},{kids:newKids,valuations:newValuations}));setError('');};// Add a new present\nconst addPresent=()=>{const newPresentName=\"Present_\".concat(formData.presents.length+1);const newValuations=_objectSpread({},formData.valuations);// Initialize valuations for the new present for all kids\nfor(const kid of formData.kids){if(!newValuations[kid]){newValuations[kid]={};}newValuations[kid][newPresentName]=0;}setFormData(_objectSpread(_objectSpread({},formData),{},{presents:[...formData.presents,newPresentName],valuations:newValuations}));};// Remove a present\nconst removePresent=index=>{if(formData.presents.length<=1){setError('You need at least one present');return;}const newPresents=[...formData.presents];const presentToRemove=newPresents[index];newPresents.splice(index,1);// Remove the present's valuations for all kids\nconst newValuations=_objectSpread({},formData.valuations);for(const kid in newValuations){delete newValuations[kid][presentToRemove];}setFormData(_objectSpread(_objectSpread({},formData),{},{presents:newPresents,valuations:newValuations}));setError('');};// State for random options modal\nconst[showRandomOptions,setShowRandomOptions]=useState(false);const[randomizeOption,setRandomizeOption]=useState('all');const[numKids,setNumKids]=useState(3);const[numPresents,setNumPresents]=useState(5);// Open random options modal\nconst openRandomOptions=()=>{setShowRandomOptions(true);};// Close random options modal\nconst closeRandomOptions=()=>{setShowRandomOptions(false);};// Generate random input with selected options\nconst generateRandomInput=async function(){let option=arguments.length>0&&arguments[0]!==undefined?arguments[0]:randomizeOption;try{setLoading(true);setError('');// Create URL with query parameters\nlet url='http://localhost:5006/api/generate-random?';url+=\"randomize_type=\".concat(option);url+=\"&num_kids=\".concat(numKids);url+=\"&num_presents=\".concat(numPresents);console.log(\"Generating with params: type=\".concat(option,\", kids=\").concat(numKids,\", presents=\").concat(numPresents));// If we're doing partial randomization, pass the current data\nif(option!=='all'){const currentData=JSON.stringify(formData);url+=\"&current_data=\".concat(encodeURIComponent(currentData));console.log('Including current data for partial randomization');}// Get random data from the backend\nconsole.log(\"Sending request to: \".concat(url));const response=await axios.get(url);// Log what we received\nconsole.log('Received data:',response.data);console.log(\"New data has \".concat(response.data.kids.length,\" kids and \").concat(response.data.presents.length,\" presents\"));// Update form data with the response\nsetFormData(response.data);// Close modal after generating\nsetShowRandomOptions(false);}catch(error){console.error('Error generating random input:',error);// Show more detailed error message\nlet errorMessage='Failed to generate random input. Please try again.';if(error.response){// The request was made and the server responded with an error status code\nerrorMessage=\"Server error (\".concat(error.response.status,\"): \").concat(JSON.stringify(error.response.data));}else if(error.request){// The request was made but no response was received\nerrorMessage='No response received from server. Is the backend running?';}else{// Something else happened\nerrorMessage=\"Error: \".concat(error.message);}setError(errorMessage);}finally{setLoading(false);}};// Check if the input follows the restricted assignment case\nconst validateRestrictedAssignment=()=>{// For each present, check if it has the same value for all kids who can receive it\nconst presentValues={};const errors=[];for(const present of formData.presents){presentValues[present]={};let valueForThisPresent=null;let hasValue=false;for(const kid of formData.kids){var _formData$valuations$;const value=((_formData$valuations$=formData.valuations[kid])===null||_formData$valuations$===void 0?void 0:_formData$valuations$[present])||0;if(value>0){if(valueForThisPresent===null){// First kid who can receive this present\nvalueForThisPresent=value;hasValue=true;}else if(value!==valueForThisPresent){// Value doesn't match the expected value for this present\nerrors.push(\"Present \".concat(present,\" has different values for different kids (\").concat(valueForThisPresent,\" vs \").concat(value,\"). In the restricted assignment case, each present must have the same value for all kids who can receive it.\"));break;}}}}return errors;};// Submit the form\nconst handleSubmit=async e=>{e.preventDefault();// Validate the form\nif(formData.kids.length===0){setError('You need at least one kid');return;}if(formData.presents.length===0){setError('You need at least one present');return;}// Validate restricted assignment case\nconst restrictedAssignmentErrors=validateRestrictedAssignment();if(restrictedAssignmentErrors.length>0){setError(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Input does not follow the restricted assignment case:\"})}),/*#__PURE__*/_jsx(\"ul\",{children:restrictedAssignmentErrors.map((err,index)=>/*#__PURE__*/_jsx(\"li\",{children:err},index))}),/*#__PURE__*/_jsx(\"p\",{children:\"In the restricted assignment case, each present must have the same value for all kids who can receive it (and 0 for kids who cannot).\"})]}));return;}try{setLoading(true);setError('');// Send the data to the backend\nconst response=await axios.post('http://localhost:5006/api/run-algorithm',formData);console.log('Algorithm response received:',response.data);// Navigate to the results page with the data\nconsole.log('Attempting to navigate to results page...');navigate('/results',{state:{results:response.data}});console.log('Navigation function called');}catch(error){console.error('Error running algorithm:',error);setError('Failed to run algorithm. Please check your input and try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"input-form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Input Form\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Kids\"}),formData.kids.map((kid,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:kid,onChange:e=>handleKidNameChange(index,e.target.value),placeholder:\"Kid name\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-danger\",onClick:()=>removeKid(index),children:\"Remove\"})]},\"kid-\".concat(index))),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:addKid,children:\"Add Kid\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Presents\"}),formData.presents.map((present,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:present,onChange:e=>handlePresentNameChange(index,e.target.value),placeholder:\"Present name\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-danger\",onClick:()=>removePresent(index),children:\"Remove\"})]},\"present-\".concat(index))),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:addPresent,children:\"Add Present\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Valuations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Enter how much each kid values each present (0 means they can't receive it)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered valuation-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Kid / Present\"}),formData.presents.map((present,index)=>/*#__PURE__*/_jsx(\"th\",{children:present},\"header-\".concat(present)))]})}),/*#__PURE__*/_jsx(\"tbody\",{children:formData.kids.map((kid,kidIndex)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:kid}),formData.presents.map((present,presentIndex)=>{var _formData$valuations$2;return/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control form-control-sm\",min:\"0\",value:((_formData$valuations$2=formData.valuations[kid])===null||_formData$valuations$2===void 0?void 0:_formData$valuations$2[present])||0,onChange:e=>handleValuationChange(kid,present,e.target.value)})},\"cell-\".concat(kid,\"-\").concat(present));})]},\"row-\".concat(kid)))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:openRandomOptions,disabled:loading,children:loading?'Loading...':'Generate Random Input'}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Running...':'Run Algorithm'})]}),showRandomOptions&&/*#__PURE__*/_jsx(\"div\",{className:\"modal show\",style:{display:'block',backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:\"Random Generation Options\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:closeRandomOptions})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Choose what you want to randomize:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"numKids\",children:\"Number of Kids:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"numKids\",min:\"1\",max:\"10\",value:numKids,onChange:e=>setNumKids(Math.min(10,Math.max(1,parseInt(e.target.value)||1)))}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Maximum: 10\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"numPresents\",children:\"Number of Presents:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"numPresents\",min:\"1\",max:\"20\",value:numPresents,onChange:e=>setNumPresents(Math.min(20,Math.max(1,parseInt(e.target.value)||1)))}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Maximum: 20\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3\",children:\"What to randomize:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"randomizeOption\",id:\"randomize-all\",value:\"all\",checked:randomizeOption==='all',onChange:()=>setRandomizeOption('all')}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"randomize-all\",children:\"Everything (kids, presents, and valuations)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"randomizeOption\",id:\"randomize-valuations\",value:\"valuations\",checked:randomizeOption==='valuations',onChange:()=>setRandomizeOption('valuations')}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"randomize-valuations\",children:\"Only Valuations (keep kids and presents the same)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:closeRandomOptions,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:()=>generateRandomInput(),disabled:loading,children:loading?'Generating...':'Generate'})]})]})})})]})]});};export default InputForm;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","InputForm","navigate","loading","setLoading","error","setError","formData","setFormData","kids","presents","valuations","handleKidNameChange","index","value","newKids","oldName","newValuations","_objectSpread","handlePresentNameChange","newPresents","kid","undefined","handleValuationChange","present","numValue","parseInt","addKid","newKidName","concat","length","forEach","removeKid","kidToRemove","splice","addPresent","newPresentName","removePresent","presentToRemove","showRandomOptions","setShowRandomOptions","randomizeOption","setRandomizeOption","numKids","setNumKids","numPresents","setNumPresents","openRandomOptions","closeRandomOptions","generateRandomInput","option","arguments","url","console","log","currentData","JSON","stringify","encodeURIComponent","response","get","data","errorMessage","status","request","message","validateRestrictedAssignment","presentValues","errors","valueForThisPresent","hasValue","_formData$valuations$","push","handleSubmit","e","preventDefault","restrictedAssignmentErrors","children","map","err","post","state","results","className","onSubmit","type","onChange","target","placeholder","required","onClick","kidIndex","presentIndex","_formData$valuations$2","min","disabled","style","display","backgroundColor","htmlFor","id","max","Math","name","checked"],"sources":["C:/Users/A/Desktop/Univers/ResearchAlgo/web/Research_Algorithms_Task4/frontend/src/components/InputForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst InputForm = () => {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [formData, setFormData] = useState({\n    kids: ['Kid_1', 'Kid_2', 'Kid_3'],\n    presents: ['Present_1', 'Present_2', 'Present_3', 'Present_4'],\n    valuations: {\n      'Kid_1': {\n        'Present_1': 5,  // Kid_1 can receive Present_1 with value 5\n        'Present_2': 3,  // Kid_1 can receive Present_2 with value 3\n        'Present_3': 0,  // Kid_1 cannot receive Present_3\n        'Present_4': 0   // Kid_1 cannot receive Present_4\n      },\n      'Kid_2': {\n        'Present_1': 5,  // Kid_2 can receive Present_1 with same value 5\n        'Present_2': 0,  // Kid_2 cannot receive Present_2\n        'Present_3': 7,  // Kid_2 can receive Present_3 with value 7\n        'Present_4': 4   // Kid_2 can receive Present_4 with value 4\n      },\n      'Kid_3': {\n        'Present_1': 0,  // Kid_3 cannot receive Present_1\n        'Present_2': 3,  // Kid_3 can receive Present_2 with same value 3\n        'Present_3': 7,  // Kid_3 can receive Present_3 with same value 7\n        'Present_4': 4   // Kid_3 can receive Present_4 with same value 4\n      }\n    }\n  });\n\n  // Handle kid name change\n  const handleKidNameChange = (index, value) => {\n    const newKids = [...formData.kids];\n    const oldName = newKids[index];\n    newKids[index] = value;\n\n    // Update the valuations object with the new kid name\n    const newValuations = { ...formData.valuations };\n    newValuations[value] = newValuations[oldName] || {};\n    if (oldName !== value && newValuations[oldName]) {\n      delete newValuations[oldName];\n    }\n\n    setFormData({\n      ...formData,\n      kids: newKids,\n      valuations: newValuations\n    });\n  };\n\n  // Handle present name change\n  const handlePresentNameChange = (index, value) => {\n    const newPresents = [...formData.presents];\n    const oldName = newPresents[index];\n    newPresents[index] = value;\n\n    // Update the valuations for each kid with the new present name\n    const newValuations = { ...formData.valuations };\n    for (const kid in newValuations) {\n      newValuations[kid][value] = newValuations[kid][oldName] || 0;\n      if (oldName !== value && newValuations[kid][oldName] !== undefined) {\n        delete newValuations[kid][oldName];\n      }\n    }\n\n    setFormData({\n      ...formData,\n      presents: newPresents,\n      valuations: newValuations\n    });\n  };\n\n  // Handle valuation change\n  const handleValuationChange = (kid, present, value) => {\n    const numValue = parseInt(value) || 0;\n    setFormData({\n      ...formData,\n      valuations: {\n        ...formData.valuations,\n        [kid]: {\n          ...formData.valuations[kid],\n          [present]: numValue\n        }\n      }\n    });\n  };\n\n  // Add a new kid\n  const addKid = () => {\n    const newKidName = `Kid_${formData.kids.length + 1}`;\n    const newValuations = { ...formData.valuations };\n    \n    // Initialize valuations for the new kid\n    newValuations[newKidName] = {};\n    formData.presents.forEach(present => {\n      newValuations[newKidName][present] = 0;\n    });\n\n    setFormData({\n      ...formData,\n      kids: [...formData.kids, newKidName],\n      valuations: newValuations\n    });\n  };\n\n  // Remove a kid\n  const removeKid = (index) => {\n    if (formData.kids.length <= 1) {\n      setError('You need at least one kid');\n      return;\n    }\n\n    const newKids = [...formData.kids];\n    const kidToRemove = newKids[index];\n    newKids.splice(index, 1);\n\n    // Remove the kid's valuations\n    const newValuations = { ...formData.valuations };\n    delete newValuations[kidToRemove];\n\n    setFormData({\n      ...formData,\n      kids: newKids,\n      valuations: newValuations\n    });\n    setError('');\n  };\n\n  // Add a new present\n  const addPresent = () => {\n    const newPresentName = `Present_${formData.presents.length + 1}`;\n    const newValuations = { ...formData.valuations };\n    \n    // Initialize valuations for the new present for all kids\n    for (const kid of formData.kids) {\n      if (!newValuations[kid]) {\n        newValuations[kid] = {};\n      }\n      newValuations[kid][newPresentName] = 0;\n    }\n\n    setFormData({\n      ...formData,\n      presents: [...formData.presents, newPresentName],\n      valuations: newValuations\n    });\n  };\n\n  // Remove a present\n  const removePresent = (index) => {\n    if (formData.presents.length <= 1) {\n      setError('You need at least one present');\n      return;\n    }\n\n    const newPresents = [...formData.presents];\n    const presentToRemove = newPresents[index];\n    newPresents.splice(index, 1);\n\n    // Remove the present's valuations for all kids\n    const newValuations = { ...formData.valuations };\n    for (const kid in newValuations) {\n      delete newValuations[kid][presentToRemove];\n    }\n\n    setFormData({\n      ...formData,\n      presents: newPresents,\n      valuations: newValuations\n    });\n    setError('');\n  };\n\n  // State for random options modal\n  const [showRandomOptions, setShowRandomOptions] = useState(false);\n  const [randomizeOption, setRandomizeOption] = useState('all');\n  const [numKids, setNumKids] = useState(3);\n  const [numPresents, setNumPresents] = useState(5);\n\n  // Open random options modal\n  const openRandomOptions = () => {\n    setShowRandomOptions(true);\n  };\n\n  // Close random options modal\n  const closeRandomOptions = () => {\n    setShowRandomOptions(false);\n  };\n\n  // Generate random input with selected options\n  const generateRandomInput = async (option = randomizeOption) => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      // Create URL with query parameters\n      let url = 'http://localhost:5006/api/generate-random?';\n      url += `randomize_type=${option}`;\n      url += `&num_kids=${numKids}`;\n      url += `&num_presents=${numPresents}`;\n      \n      console.log(`Generating with params: type=${option}, kids=${numKids}, presents=${numPresents}`);\n      \n      // If we're doing partial randomization, pass the current data\n      if (option !== 'all') {\n        const currentData = JSON.stringify(formData);\n        url += `&current_data=${encodeURIComponent(currentData)}`;\n        console.log('Including current data for partial randomization');\n      }\n      \n      // Get random data from the backend\n      console.log(`Sending request to: ${url}`);\n      const response = await axios.get(url);\n      \n      // Log what we received\n      console.log('Received data:', response.data);\n      console.log(`New data has ${response.data.kids.length} kids and ${response.data.presents.length} presents`);\n      \n      // Update form data with the response\n      setFormData(response.data);\n      \n      // Close modal after generating\n      setShowRandomOptions(false);\n    } catch (error) {\n      console.error('Error generating random input:', error);\n      // Show more detailed error message\n      let errorMessage = 'Failed to generate random input. Please try again.';\n      if (error.response) {\n        // The request was made and the server responded with an error status code\n        errorMessage = `Server error (${error.response.status}): ${JSON.stringify(error.response.data)}`;\n      } else if (error.request) {\n        // The request was made but no response was received\n        errorMessage = 'No response received from server. Is the backend running?';\n      } else {\n        // Something else happened\n        errorMessage = `Error: ${error.message}`;\n      }\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Check if the input follows the restricted assignment case\n  const validateRestrictedAssignment = () => {\n    // For each present, check if it has the same value for all kids who can receive it\n    const presentValues = {};\n    const errors = [];\n    \n    for (const present of formData.presents) {\n      presentValues[present] = {};\n      let valueForThisPresent = null;\n      let hasValue = false;\n      \n      for (const kid of formData.kids) {\n        const value = formData.valuations[kid]?.[present] || 0;\n        \n        if (value > 0) {\n          if (valueForThisPresent === null) {\n            // First kid who can receive this present\n            valueForThisPresent = value;\n            hasValue = true;\n          } else if (value !== valueForThisPresent) {\n            // Value doesn't match the expected value for this present\n            errors.push(`Present ${present} has different values for different kids (${valueForThisPresent} vs ${value}). In the restricted assignment case, each present must have the same value for all kids who can receive it.`);\n            break;\n          }\n        }\n      }\n    }\n    \n    return errors;\n  };\n\n  // Submit the form\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Validate the form\n    if (formData.kids.length === 0) {\n      setError('You need at least one kid');\n      return;\n    }\n    if (formData.presents.length === 0) {\n      setError('You need at least one present');\n      return;\n    }\n    \n    // Validate restricted assignment case\n    const restrictedAssignmentErrors = validateRestrictedAssignment();\n    if (restrictedAssignmentErrors.length > 0) {\n      setError(\n        <div>\n          <p><strong>Input does not follow the restricted assignment case:</strong></p>\n          <ul>\n            {restrictedAssignmentErrors.map((err, index) => (\n              <li key={index}>{err}</li>\n            ))}\n          </ul>\n          <p>In the restricted assignment case, each present must have the same value for all kids who can receive it (and 0 for kids who cannot).</p>\n        </div>\n      );\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError('');\n      \n      // Send the data to the backend\n      const response = await axios.post('http://localhost:5006/api/run-algorithm', formData);\n      \n      console.log('Algorithm response received:', response.data);\n      \n      // Navigate to the results page with the data\n      console.log('Attempting to navigate to results page...');\n      navigate('/results', { state: { results: response.data } });\n      console.log('Navigation function called');\n    } catch (error) {\n      console.error('Error running algorithm:', error);\n      setError('Failed to run algorithm. Please check your input and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"input-form-container\">\n      <h2 className=\"section-title\">Input Form</h2>\n      \n      {error && <div className=\"alert alert-danger\">{error}</div>}\n      \n      <form onSubmit={handleSubmit}>\n        <div className=\"form-section\">\n          <h3>Kids</h3>\n          {formData.kids.map((kid, index) => (\n            <div key={`kid-${index}`} className=\"input-group mb-3\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={kid}\n                onChange={(e) => handleKidNameChange(index, e.target.value)}\n                placeholder=\"Kid name\"\n                required\n              />\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-danger\"\n                onClick={() => removeKid(index)}\n              >\n                Remove\n              </button>\n            </div>\n          ))}\n          <button\n            type=\"button\"\n            className=\"btn btn-outline-primary\"\n            onClick={addKid}\n          >\n            Add Kid\n          </button>\n        </div>\n\n        <div className=\"form-section\">\n          <h3>Presents</h3>\n          {formData.presents.map((present, index) => (\n            <div key={`present-${index}`} className=\"input-group mb-3\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={present}\n                onChange={(e) => handlePresentNameChange(index, e.target.value)}\n                placeholder=\"Present name\"\n                required\n              />\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-danger\"\n                onClick={() => removePresent(index)}\n              >\n                Remove\n              </button>\n            </div>\n          ))}\n          <button\n            type=\"button\"\n            className=\"btn btn-outline-primary\"\n            onClick={addPresent}\n          >\n            Add Present\n          </button>\n        </div>\n\n        <div className=\"form-section\">\n          <h3>Valuations</h3>\n          <p className=\"text-muted\">Enter how much each kid values each present (0 means they can't receive it)</p>\n          \n          <div className=\"table-responsive\">\n            <table className=\"table table-bordered valuation-table\">\n              <thead>\n                <tr>\n                  <th>Kid / Present</th>\n                  {formData.presents.map((present, index) => (\n                    <th key={`header-${present}`}>{present}</th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {formData.kids.map((kid, kidIndex) => (\n                  <tr key={`row-${kid}`}>\n                    <td>{kid}</td>\n                    {formData.presents.map((present, presentIndex) => (\n                      <td key={`cell-${kid}-${present}`}>\n                        <input\n                          type=\"number\"\n                          className=\"form-control form-control-sm\"\n                          min=\"0\"\n                          value={formData.valuations[kid]?.[present] || 0}\n                          onChange={(e) => handleValuationChange(kid, present, e.target.value)}\n                        />\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <div className=\"d-flex justify-content-between mt-4\">\n          <button\n            type=\"button\"\n            className=\"btn btn-secondary\"\n            onClick={openRandomOptions}\n            disabled={loading}\n          >\n            {loading ? 'Loading...' : 'Generate Random Input'}\n          </button>\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n            disabled={loading}\n          >\n            {loading ? 'Running...' : 'Run Algorithm'}\n          </button>\n        </div>\n        \n        {/* Random Options Modal */}\n        {showRandomOptions && (\n          <div className=\"modal show\" style={{display: 'block', backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  <h5 className=\"modal-title\">Random Generation Options</h5>\n                  <button type=\"button\" className=\"btn-close\" onClick={closeRandomOptions}></button>\n                </div>\n                <div className=\"modal-body\">\n                  <p>Choose what you want to randomize:</p>\n                  \n                  <div className=\"form-group mb-3\">\n                    <label htmlFor=\"numKids\">Number of Kids:</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      id=\"numKids\"\n                      min=\"1\"\n                      max=\"10\"\n                      value={numKids}\n                      onChange={(e) => setNumKids(Math.min(10, Math.max(1, parseInt(e.target.value) || 1)))}\n                    />\n                    <small className=\"text-muted\">Maximum: 10</small>\n                  </div>\n                  \n                  <div className=\"form-group mb-3\">\n                    <label htmlFor=\"numPresents\">Number of Presents:</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      id=\"numPresents\"\n                      min=\"1\"\n                      max=\"20\"\n                      value={numPresents}\n                      onChange={(e) => setNumPresents(Math.min(20, Math.max(1, parseInt(e.target.value) || 1)))}\n                    />\n                    <small className=\"text-muted\">Maximum: 20</small>\n                  </div>\n                  \n                  <p className=\"mt-3\">What to randomize:</p>\n                  \n                  <div className=\"form-check mb-2\">\n                    <input\n                      className=\"form-check-input\"\n                      type=\"radio\"\n                      name=\"randomizeOption\"\n                      id=\"randomize-all\"\n                      value=\"all\"\n                      checked={randomizeOption === 'all'}\n                      onChange={() => setRandomizeOption('all')}\n                    />\n                    <label className=\"form-check-label\" htmlFor=\"randomize-all\">\n                      Everything (kids, presents, and valuations)\n                    </label>\n                  </div>\n                  \n                  {/* האפשרויות \"Only Kids\" ו-\"Only Presents\" הוסרו בהתאם לבקשה */}\n                  \n                  <div className=\"form-check mb-2\">\n                    <input\n                      className=\"form-check-input\"\n                      type=\"radio\"\n                      name=\"randomizeOption\"\n                      id=\"randomize-valuations\"\n                      value=\"valuations\"\n                      checked={randomizeOption === 'valuations'}\n                      onChange={() => setRandomizeOption('valuations')}\n                    />\n                    <label className=\"form-check-label\" htmlFor=\"randomize-valuations\">\n                      Only Valuations (keep kids and presents the same)\n                    </label>\n                  </div>\n                </div>\n                <div className=\"modal-footer\">\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={closeRandomOptions}>Cancel</button>\n                  <button \n                    type=\"button\" \n                    className=\"btn btn-primary\" \n                    onClick={() => generateRandomInput()}\n                    disabled={loading}\n                  >\n                    {loading ? 'Generating...' : 'Generate'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default InputForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}